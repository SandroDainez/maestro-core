{
  "productName": ":ClínicaCom",
  "domain": "medical",
  "problem": ": criar app SaaS para clínica com dashboard e RBAC",
  "users": [
    "Administrador",
    "Profissional de Saúde",
    "Recepção",
    "Financeiro",
    "Paciente (opcional)"
  ],
  "coreFeatures": [
    "Cadastro e gestão de usuários com papéis (RBAC)",
    "Agendamentos / escalas",
    "Dashboard operacional",
    "Auditoria (logs) e rastreabilidade",
    "Configurações por organização (multi-tenant)"
  ],
  "nonFunctional": [
    "Segurança (LGPD quando aplicável)",
    "Logs e auditoria",
    "Performance e escalabilidade",
    "Backups e migrações",
    "Testes básicos e lint"
  ],
  "stack": {
    "frontend": "Next.js + TypeScript + Tailwind",
    "backend": "Next.js Route Handlers (API) ou Fastify (futuro)",
    "database": "Postgres (ex: Supabase)",
    "auth": "Supabase Auth (ou NextAuth futuramente)",
    "hosting": "Vercel (web) + Supabase (db/auth)"
  },
  "modules": [
    {
      "name": "Auth & RBAC",
      "description": "Autenticação + papéis/permissões"
    },
    {
      "name": "Core Domain",
      "description": "Regras e entidades principais do produto"
    },
    {
      "name": "Dashboard",
      "description": "Visão geral e métricas operacionais"
    },
    {
      "name": "Settings",
      "description": "Configurações por organização/usuário"
    },
    {
      "name": "Audit",
      "description": "Registro de eventos e ações"
    }
  ],
  "dataModels": [
    {
      "name": "User",
      "fields": [
        "id",
        "email",
        "role",
        "tenantId",
        "createdAt"
      ]
    },
    {
      "name": "Tenant",
      "fields": [
        "id",
        "name",
        "plan",
        "createdAt"
      ]
    },
    {
      "name": "ScheduleItem",
      "fields": [
        "id",
        "tenantId",
        "type",
        "startsAt",
        "endsAt",
        "assignedTo"
      ]
    },
    {
      "name": "AuditEvent",
      "fields": [
        "id",
        "tenantId",
        "userId",
        "type",
        "data",
        "createdAt"
      ]
    }
  ],
  "apiEndpoints": [
    {
      "method": "POST",
      "path": "/api/auth/login",
      "description": "Login"
    },
    {
      "method": "POST",
      "path": "/api/auth/logout",
      "description": "Logout"
    },
    {
      "method": "GET",
      "path": "/api/me",
      "description": "Dados do usuário logado"
    },
    {
      "method": "GET",
      "path": "/api/tenant",
      "description": "Dados do tenant"
    },
    {
      "method": "POST",
      "path": "/api/audit",
      "description": "Registrar evento de auditoria"
    }
  ],
  "risks": [
    "Definir claramente escopo MVP vs completo",
    "Evitar acoplamento entre domínio e infraestrutura",
    "Garantir políticas de acesso (RBAC) consistentes",
    "LGPD: minimizar dados sensíveis e registrar consentimentos quando aplicável"
  ]
}